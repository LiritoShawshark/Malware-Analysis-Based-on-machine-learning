f_bag = open('bag/file_bag', mode='r', encoding='utf-8')
r_bag = open('bag/reg_bag', mode='r', encoding='utf-8')

f_list = []
r_list = []

while True:
    line = f_bag.readline()
    if not line:
        break
    line = line.strip('\n')
    if '_' in line or '_' in str or '{' in str or '}' in str:               # 如果有特殊字符，删除该词
        continue
    num_count = 0                                                           # 统计数字和字符关系
    list1 = list(line)
    len1 = len(list1)
    for c in list1:
        try:
            a = int(c)
            num_count += 1
        except:
            pass
    try:
        bili = num_count / len1
    except:
        bili = 0
    if bili >= 0.5:                                                         # 如果数字比例大于0.5，则删除
        continue
    f_list.append(line)                                                     # 保留符合条件的词

while True:
    line = r_bag.readline()
    if not line:
        break
    line = line.strip('\n')
    if '_' in line or '_' in str or '{' in str or '}' in str:               # 如果有特殊字符，删除该词
        continue
    num_count = 0
    list1 = list(line)
    len1 = len(list1)
    for c in list1:
        try:
            a = int(c)
            num_count += 1
        except:
            pass
    try:
        bili = num_count / len1
    except:
        bili = 0
    if bili >= 0.3:                                                         # 同上，此处数字比例为0.3以上删除
        continue
    r_list.append(line)

f_bag.close()
r_bag.close()

f_bag = open('bag/file_bag1', mode='w', encoding='utf-8')
r_bag = open('bag/reg_bag1', mode='w', encoding='utf-8')

for f_l in f_list:
    f_bag.write(f_l + '\n')
for r_l in r_list:
    r_bag.write(r_l + '\n')

f_bag.close()
r_bag.close()

print(len(f_list))
print(len(r_list))
